#!/bin/bash
#
# go to $GOTO_DIR and run fzf. Then cd into it.
# requires alias goto=". goto"
#
# usgae: goto

# first check if GOTO_DIR is defined
if [[ -z "$GOTO_DIR" ]]; then
  echo "environment variable GOTO_DIR not defined"
  return
fi

current_dir=$(pwd)

cd "$GOTO_DIR"
# run fzf but only show directories
LOC=$(ls -d */ | fzf)

if [[ "$LOC" == '' ]]; then
  cd $current_dir
else
  cd $LOC
fi
